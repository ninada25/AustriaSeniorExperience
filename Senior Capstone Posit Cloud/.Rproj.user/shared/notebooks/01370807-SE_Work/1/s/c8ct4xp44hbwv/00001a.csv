"0","set.seed(01302024)"
"0",""
"0","# c <- matrix(nrow = 30, ncol = 0) # create an empty matrix"
"0","# "
"0","# # create for loop to run 30 times"
"0","# for(i in 1:30) {"
"0","#   countries_pi <- randomForest(Happiness_score ~ ., data = countries_with_happy_imputed, ntree = 1000, importance = TRUE)"
"0","#   imp <- countries_pi$importance[,1] # store PI scores in imp"
"0","#   imp <- ifelse(imp < 0, 0, imp) # if PI score is negative, convert it to 0, else keep it the same"
"0","#   perc <- imp/sum(imp) * 100 # store PI scores as percentages in perc"
"0","#   c <- matrix(cbind(c, perc), byrow = FALSE, nrow = 6, ncol = i)"
"0","# }"
"0","# c"
"0","# "
"0","# avg_countries_pi <- data.frame(rowMeans(c), row.names = names(perc)[]) # create df with AVERAGE PI scores as percentages"
"0","# colnames(avg_countries_pi) <- ""Avg_PI_Score_As_Perc"" # renaming column"
"0","# avg_countries_pi <- avg_countries_pi %>% arrange(desc(avg_countries_pi)) %>% round(digits = 2) "
"0","# avg_countries_pi "
"0",""
"0","# save(avg_countries_pi, file = ""pi_countries.Rdata"")"
"0","load(""pi_countries.Rdata"") # USE TO LOAD IN TABLE QUICKLY IN THE FUTURE"
"0","avg_countries_pi"
